
#################################################
##############   LITTLE EXAMPLE   ###############
#################################################

FASTA = ale.fa  
VFC   = ale.vcf
FASTQ = ale.fq

GEDS   = ale.geds
ADJ   = ale.geds.adj
2FA   = ale.geds.2fa
INDEX = ale.min
k     = 3
w     = 3

SAM   = ale.sam

ale: ../gedmap $(SAM)
	#
	#
	# GEDS GENERATED BY GEDSM:
	cat $(GEDS)
	#
	#
	# SAM FILE:
	cat $(SAM)

../gedmap:
	cd .. && make gedmap

clean:
	rm -f $(GEDS) $(INDEX) $(SAM) $(2FA) $(ADJ)

#PARSE TO GEDS
$(GEDS): $(FASTA) $(VFC) ../gedmap
	../gedmap parse $(FASTA) $(VFC) $(GEDS)

#GENERATE INDEX OF GEDS
$(INDEX):  $(GEDS) ../gedmap
	../gedmap index  $(GEDS) -2fa $(2FA) -k $(k) -w $(w) -o $(INDEX) -a $(ADJ)

#ALIGN TO GEDS USING INDEX
$(SAM): $(GEDS) $(INDEX) $(FASTQ) ../gedmap
	../gedmap align  $(GEDS) $(FASTQ) $(INDEX) -o $(SAM) -a $(ADJ) \
	-rc -ws 20 -mao 1 -2fa $(2FA) -d 3
